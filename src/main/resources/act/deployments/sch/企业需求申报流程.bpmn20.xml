<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://www.activiti.org/processdef">
  <process id="COMP_REQ" name="企业需求申报流程" isExecutable="true">
    <startEvent id="start" name="发起申请" activiti:initiator="apply" activiti:formKey="/sch/req/schCompReq/form"></startEvent>
    <userTask id="teacher_audit" name="解决方案" activiti:assignee="${teacher}"></userTask>
    <exclusiveGateway id="sid-55B6385A-95CD-4739-B005-FA7EE815FEF4"></exclusiveGateway>
    <sequenceFlow id="sid-DCC43008-47F1-42B5-8709-01A3B2D5C006" sourceRef="teacher_audit" targetRef="sid-55B6385A-95CD-4739-B005-FA7EE815FEF4"></sequenceFlow>
    <userTask id="modify_audit" name="退回重新申报" activiti:assignee="${apply}"></userTask>
    <endEvent id="apply_end" name="已解决"></endEvent>
    <exclusiveGateway id="sid-23048CA9-3F34-4A02-8353-33487DE3B870"></exclusiveGateway>
    <sequenceFlow id="sid-D4D4F321-894C-472E-A3DA-A94E23FAAA5D" sourceRef="modify_audit" targetRef="sid-23048CA9-3F34-4A02-8353-33487DE3B870"></sequenceFlow>
    <sequenceFlow id="sid-3FDB0C3E-FBB4-4569-9720-B2D23F65B1B2" name="取消申报" sourceRef="sid-23048CA9-3F34-4A02-8353-33487DE3B870" targetRef="apply_end">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${pass==0}]]></conditionExpression>
    </sequenceFlow>
    <userTask id="teacher_receive" name="接受方案" activiti:candidateUsers="${teachers}"></userTask>
    <exclusiveGateway id="sid-6BC6E29B-EFB4-4C17-9869-0701D927C6C3"></exclusiveGateway>
    <sequenceFlow id="sid-6B678A61-0AC9-4463-9927-B594162C7BDA" name="解决" sourceRef="sid-55B6385A-95CD-4739-B005-FA7EE815FEF4" targetRef="apply_end">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${pass==1}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-28D1EC4E-3B74-4658-8222-7F3CF478087A" name="退回" sourceRef="sid-55B6385A-95CD-4739-B005-FA7EE815FEF4" targetRef="modify_audit">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${pass==0}]]></conditionExpression>
    </sequenceFlow>
    <userTask id="mana_audit" name="审核方案" activiti:candidateUsers="${mana}"></userTask>
    <exclusiveGateway id="sid-2091CE16-7971-4C99-AD42-1794E1D011EF"></exclusiveGateway>
    <sequenceFlow id="sid-3566F176-876B-4DC9-B85C-72286D200BF0" name="审核通过" sourceRef="sid-2091CE16-7971-4C99-AD42-1794E1D011EF" targetRef="teacher_receive">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${pass==1}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-72B3B597-0973-4DEE-A76E-6441E3D8D838" sourceRef="start" targetRef="mana_audit"></sequenceFlow>
    <sequenceFlow id="sid-72C9646F-588E-443F-8809-ECE523AABCFB" sourceRef="teacher_receive" targetRef="sid-6BC6E29B-EFB4-4C17-9869-0701D927C6C3"></sequenceFlow>
    <sequenceFlow id="sid-AC499C19-1E7D-4D72-BF4F-346438EF0A0F" sourceRef="mana_audit" targetRef="sid-2091CE16-7971-4C99-AD42-1794E1D011EF"></sequenceFlow>
    <sequenceFlow id="sid-BF4A1481-6C85-4FDB-A4E1-06E21453B9E3" name="审核不通过" sourceRef="sid-2091CE16-7971-4C99-AD42-1794E1D011EF" targetRef="modify_audit">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${pass==0}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-29469CD8-386F-4424-884E-1CAFA39070AA" name="拒绝" sourceRef="sid-6BC6E29B-EFB4-4C17-9869-0701D927C6C3" targetRef="modify_audit">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${pass==0}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-9CD860D1-9D82-4B94-87CD-508A5CC5EF8F" name="重新申报" sourceRef="sid-23048CA9-3F34-4A02-8353-33487DE3B870" targetRef="mana_audit">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${pass==1}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-F1062E0C-2F34-49D9-9399-4E03DE32253E" name="接受" sourceRef="sid-6BC6E29B-EFB4-4C17-9869-0701D927C6C3" targetRef="teacher_audit">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${pass==1}]]></conditionExpression>
    </sequenceFlow>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_COMP_REQ">
    <bpmndi:BPMNPlane bpmnElement="COMP_REQ" id="BPMNPlane_COMP_REQ">
      <bpmndi:BPMNShape bpmnElement="start" id="BPMNShape_start">
        <omgdc:Bounds height="30.0" width="30.0" x="60.0" y="139.5"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="teacher_audit" id="BPMNShape_teacher_audit">
        <omgdc:Bounds height="80.0" width="100.0" x="630.0" y="114.5"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-55B6385A-95CD-4739-B005-FA7EE815FEF4" id="BPMNShape_sid-55B6385A-95CD-4739-B005-FA7EE815FEF4">
        <omgdc:Bounds height="40.0" width="40.0" x="775.0" y="134.5"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="modify_audit" id="BPMNShape_modify_audit">
        <omgdc:Bounds height="80.0" width="100.0" x="860.0" y="114.5"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="apply_end" id="BPMNShape_apply_end">
        <omgdc:Bounds height="28.0" width="28.0" x="781.0" y="220.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-23048CA9-3F34-4A02-8353-33487DE3B870" id="BPMNShape_sid-23048CA9-3F34-4A02-8353-33487DE3B870">
        <omgdc:Bounds height="40.0" width="40.0" x="1005.0" y="134.5"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="teacher_receive" id="BPMNShape_teacher_receive">
        <omgdc:Bounds height="80.0" width="100.0" x="390.0" y="114.5"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-6BC6E29B-EFB4-4C17-9869-0701D927C6C3" id="BPMNShape_sid-6BC6E29B-EFB4-4C17-9869-0701D927C6C3">
        <omgdc:Bounds height="40.0" width="40.0" x="535.0" y="134.5"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="mana_audit" id="BPMNShape_mana_audit">
        <omgdc:Bounds height="80.0" width="100.0" x="135.0" y="114.5"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sid-2091CE16-7971-4C99-AD42-1794E1D011EF" id="BPMNShape_sid-2091CE16-7971-4C99-AD42-1794E1D011EF">
        <omgdc:Bounds height="40.0" width="40.0" x="300.0" y="134.5"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="sid-AC499C19-1E7D-4D72-BF4F-346438EF0A0F" id="BPMNEdge_sid-AC499C19-1E7D-4D72-BF4F-346438EF0A0F">
        <omgdi:waypoint x="235.0" y="154.68450184501845"></omgdi:waypoint>
        <omgdi:waypoint x="300.4259259259259" y="154.92592592592592"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-28D1EC4E-3B74-4658-8222-7F3CF478087A" id="BPMNEdge_sid-28D1EC4E-3B74-4658-8222-7F3CF478087A">
        <omgdi:waypoint x="814.5833333333334" y="154.91666666666666"></omgdi:waypoint>
        <omgdi:waypoint x="860.0" y="154.7183406113537"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="0.0" width="0.0" x="814.5833333333334" y="154.91666666666666"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-72C9646F-588E-443F-8809-ECE523AABCFB" id="BPMNEdge_sid-72C9646F-588E-443F-8809-ECE523AABCFB">
        <omgdi:waypoint x="490.0" y="154.7164502164502"></omgdi:waypoint>
        <omgdi:waypoint x="535.4130434782609" y="154.91304347826087"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-3566F176-876B-4DC9-B85C-72286D200BF0" id="BPMNEdge_sid-3566F176-876B-4DC9-B85C-72286D200BF0">
        <omgdi:waypoint x="339.5798319327731" y="154.92016806722688"></omgdi:waypoint>
        <omgdi:waypoint x="390.0" y="154.7092050209205"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="0.0" width="0.0" x="339.5798319327731" y="154.92016806722688"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-D4D4F321-894C-472E-A3DA-A94E23FAAA5D" id="BPMNEdge_sid-D4D4F321-894C-472E-A3DA-A94E23FAAA5D">
        <omgdi:waypoint x="960.0" y="154.7164502164502"></omgdi:waypoint>
        <omgdi:waypoint x="1005.4130434782609" y="154.91304347826087"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-29469CD8-386F-4424-884E-1CAFA39070AA" id="BPMNEdge_sid-29469CD8-386F-4424-884E-1CAFA39070AA">
        <omgdi:waypoint x="555.5" y="135.0"></omgdi:waypoint>
        <omgdi:waypoint x="555.5" y="48.0"></omgdi:waypoint>
        <omgdi:waypoint x="911.0" y="48.0"></omgdi:waypoint>
        <omgdi:waypoint x="910.5429553264605" y="114.5"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="0.0" width="0.0" x="555.5" y="135.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-72B3B597-0973-4DEE-A76E-6441E3D8D838" id="BPMNEdge_sid-72B3B597-0973-4DEE-A76E-6441E3D8D838">
        <omgdi:waypoint x="90.0" y="154.5"></omgdi:waypoint>
        <omgdi:waypoint x="135.0" y="154.5"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-9CD860D1-9D82-4B94-87CD-508A5CC5EF8F" id="BPMNEdge_sid-9CD860D1-9D82-4B94-87CD-508A5CC5EF8F">
        <omgdi:waypoint x="1025.5" y="135.0"></omgdi:waypoint>
        <omgdi:waypoint x="1025.5" y="24.0"></omgdi:waypoint>
        <omgdi:waypoint x="185.0" y="24.0"></omgdi:waypoint>
        <omgdi:waypoint x="185.0" y="114.5"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="0.0" width="0.0" x="1025.5" y="135.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-6B678A61-0AC9-4463-9927-B594162C7BDA" id="BPMNEdge_sid-6B678A61-0AC9-4463-9927-B594162C7BDA">
        <omgdi:waypoint x="795.3789808917197" y="174.12101910828025"></omgdi:waypoint>
        <omgdi:waypoint x="795.0886058202825" y="220.0002803953575"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="0.0" width="0.0" x="795.3789808917197" y="174.12101910828025"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-DCC43008-47F1-42B5-8709-01A3B2D5C006" id="BPMNEdge_sid-DCC43008-47F1-42B5-8709-01A3B2D5C006">
        <omgdi:waypoint x="730.0" y="154.7164502164502"></omgdi:waypoint>
        <omgdi:waypoint x="775.4130434782609" y="154.91304347826087"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-F1062E0C-2F34-49D9-9399-4E03DE32253E" id="BPMNEdge_sid-F1062E0C-2F34-49D9-9399-4E03DE32253E">
        <omgdi:waypoint x="574.5766129032259" y="154.9233870967742"></omgdi:waypoint>
        <omgdi:waypoint x="630.0" y="154.7008032128514"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="0.0" width="0.0" x="574.5766129032259" y="154.9233870967742"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-BF4A1481-6C85-4FDB-A4E1-06E21453B9E3" id="BPMNEdge_sid-BF4A1481-6C85-4FDB-A4E1-06E21453B9E3">
        <omgdi:waypoint x="320.5" y="135.0"></omgdi:waypoint>
        <omgdi:waypoint x="320.5" y="49.0"></omgdi:waypoint>
        <omgdi:waypoint x="910.0" y="49.0"></omgdi:waypoint>
        <omgdi:waypoint x="910.0" y="114.5"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="0.0" width="0.0" x="320.5" y="135.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="sid-3FDB0C3E-FBB4-4569-9720-B2D23F65B1B2" id="BPMNEdge_sid-3FDB0C3E-FBB4-4569-9720-B2D23F65B1B2">
        <omgdi:waypoint x="1025.5" y="174.0"></omgdi:waypoint>
        <omgdi:waypoint x="1025.5" y="234.0"></omgdi:waypoint>
        <omgdi:waypoint x="809.0" y="234.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="0.0" width="0.0" x="1025.5" y="174.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>